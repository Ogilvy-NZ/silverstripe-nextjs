---
Name: silverstripe-nextjs-graphql
---
SilverStripe\Core\Injector\Injector:
  SilverStripe\GraphQL\Schema\Registry\PluginRegistry:
    constructor:
      cleanLinks: 'SilverStripe\NextJS\GraphQL\CleanLinksPlugin'
SilverStripe\GraphQL\Schema\Schema:
  schemas:
    default:
      src:
        - 'silverstripe/silverstripe-nextjs: _graphql'
      config:
        resolvers:
          - SilverStripe\Com\GraphQL\Resolver
        modelConfig:
          DataObject:
            plugins:
              cleanLinks: true
      types:
        StaticBuildLink:
          plugins:
            cleanLinks: true

---
Name: silverstripe-nextjs-fluent
Only:
  moduleexists: 'tractorcow/silverstripe-fluent'
---
SilverStripe\Core\Injector\Injector:
  SilverStripe\GraphQL\Schema\Registry\PluginRegistry:
    constructor:
      removeLocale: 'SilverStripe\NextJS\GraphQL\RemoveLocalePlugin'
SilverStripe\GraphQL\Schema\Schema:
  schemas:
    default:
      config:
        modelConfig:
          DataObject:
            plugins:
              removeLocale: true
      types:
        StaticBuildLink:
          plugins:
            removeLocale: true
